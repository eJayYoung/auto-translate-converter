{"version":3,"sources":["../../../lib/utils/string-builder.js"],"names":["StringBuf","module","exports","reset","prototype","length","_buf","toString","join","position","pop","addText","text","push","addStringBuf","inBuf"],"mappings":"AAAA;;;;;;AAMA;;AAEA;AACA;;AACA,IAAIA,YAAYC,OAAOC,OAAP,GAAiB,YAAW;AAC1C,OAAKC,KAAL;AACD,CAFD;;AAIAH,UAAUI,SAAV,GAAsB;AACpB,MAAIC,MAAJ,GAAa;AACX,WAAO,KAAKC,IAAL,CAAUD,MAAjB;AACD,GAHmB;AAIpBE,YAAU,oBAAW;AACnB,WAAO,KAAKD,IAAL,CAAUE,IAAV,CAAe,EAAf,CAAP;AACD,GANmB;;AAQpBL,SAAO,eAASM,QAAT,EAAmB;AACxB,QAAIA,QAAJ,EAAc;AACZ,aAAO,KAAKH,IAAL,CAAUD,MAAV,GAAmBI,QAA1B,EAAoC;AAClC,aAAKH,IAAL,CAAUI,GAAV;AACD;AACF,KAJD,MAIO;AACL,WAAKJ,IAAL,GAAY,EAAZ;AACD;AACF,GAhBmB;AAiBpBK,WAAS,iBAASC,IAAT,EAAe;AACtB,SAAKN,IAAL,CAAUO,IAAV,CAAeD,IAAf;AACD,GAnBmB;;AAqBpBE,gBAAc,sBAASC,KAAT,EAAgB;AAC5B,SAAKT,IAAL,CAAUO,IAAV,CAAeE,MAAMR,QAAN,EAAf;AACD;AAvBmB,CAAtB","file":"string-builder.js","sourcesContent":["/**\r\n * Copyright (c) 2015-2017 Guyon Roche\r\n * LICENCE: MIT - please refer to LICENCE file included with this module\r\n * or https://github.com/guyonroche/exceljs/blob/master/LICENSE\r\n */\r\n\r\n'use strict';\r\n\r\n// StringBuf - a way to keep string memory operations to a minimum\r\n// while building the strings for the xml files\r\nvar StringBuf = module.exports = function() {\r\n  this.reset();\r\n};\r\n\r\nStringBuf.prototype = {\r\n  get length() {\r\n    return this._buf.length;\r\n  },\r\n  toString: function() {\r\n    return this._buf.join('');\r\n  },\r\n\r\n  reset: function(position) {\r\n    if (position) {\r\n      while (this._buf.length > position) {\r\n        this._buf.pop();\r\n      }\r\n    } else {\r\n      this._buf = [];\r\n    }\r\n  },\r\n  addText: function(text) {\r\n    this._buf.push(text);\r\n  },\r\n\r\n  addStringBuf: function(inBuf) {\r\n    this._buf.push(inBuf.toString());\r\n  }\r\n};\r\n"]}